/*! web_utils 0.1.11 */
var Strftime,__bind=function(a,b){return function(){return a.apply(b,arguments)}};Strftime=function(){function a(a){this.date=a,this.substitutions=__bind(this.substitutions,this),this.day_name=__bind(this.day_name,this),this.month_name=__bind(this.month_name,this),this.render=__bind(this.render,this)}return a.extend=function(){return Date.prototype.strftime=function(b){return new a(this).strftime(b)},!0},a.prototype.render=function(a){var b,c,d;d=this.substitutions();for(c in d)b=d[c],a=a.replace("%"+c,b());return a},a.prototype.pad=function(a,b,c){var d;for(null==b&&(b=2),null==c&&(c="0"),d=a;(""+d).length<b;)d=""+c+d;return d},a.prototype.month_name=function(){return["January","February","March","April","May","June","July","August","September","Oktober","November","December"][this.date.getMonth()]},a.prototype.day_name=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][this.date.getDay()]},a.prototype.substitutions=function(){var a=this;return{Y:function(){return a.date.getFullYear()},m:function(){return a.pad(a.date.getMonth()+1)},d:function(){return a.pad(a.date.getDate())},C:function(){return Math.floor(a.date.getFullYear()/100)},y:function(){return a.pad(a.date.getFullYear()%100)},B:function(){return a.month_name()},"^B":function(){return a.month_name().toUpperCase()},b:function(){return a.month_name().slice(0,3)},"^b":function(){return a.month_name().slice(0,3).toUpperCase()},h:function(){return a.month_name().slice(0,3)},"^h":function(){return a.month_name().slice(0,3).toUpperCase()},e:function(){return a.date.getDate()},j:function(){var b;return b=new Date(""+a.date.getFullYear()+"-01-01 00:00:00"),Math.ceil((a.date-b)/864e5)},H:function(){return a.pad(a.date.getHours())},k:function(){return a.date.getHours()},I:function(){var b;return b=a.date.getHours()>12?a.date.getHours()-12:a.date.getHours(),a.pad(b,2,"0")},l:function(){var b;return b=a.date.getHours()>12?a.date.getHours()-12:a.date.getHours(),a.pad(b,2," ")},p:function(){return a.date.getHours()-12>=0?"am":"pm"},P:function(){return(a.date.getHours()-12>=0?"am":"pm").toUpperCase()},M:function(){return a.pad(a.date.getMinutes())},S:function(){return a.pad(a.date.getSeconds())},L:function(){return a.pad(a.date.getMilliseconds(),3)},"[d]+N":function(){return"NOT SUPPORTED IN JAVASCRIPT"},A:function(){return a.day_name()},"^A":function(){return a.day_name().toUpperCase()},a:function(){return a.day_name().slice(0,3)},"^a":function(){return a.day_name().slice(0,3).toUpperCase()},u:function(){return"NOT IMPLEMENTED"},w:function(){return a.date.getDay()}}},a}(),this.Strftime=Strftime,function(){var a;a=angular.module("web-utils",[]),a.service("wuBase64Location",["$location","$window",function(a,b){var c;return c={key:"q",pack:function(a){return b.btoa(JSON.stringify(a))},unpack:function(a){return JSON.parse(b.atob(a))},get_base:function(){var b;return b=a.search()[c.key],angular.isString(b)?b:"e30="},get:function(){return c.unpack(c.get_base())},get_value:function(a){return c.get()[a]},set:function(b){return a.search(c.key,c.pack(b))},no_param:function(){return void 0===a.search()[c.key]},update:function(a){var b,d,e,f;e=$.extend({},c.get()),b=!1;for(d in a)f=a[d],f!==a[d]&&(b=!0),e[d]=f;return c.no_param&&(b=!0),b?c.set(e):void 0},update_value:function(a,b){var d,e;return e=c.get(),d=!1,void 0===paramValue||null===paramValue?(delete e[a],d=!0):(d=e[a]!==b,e[a]=b),d?(console.log(a,b),c.set(e)):void 0},search:function(a,b){switch(arguments.length){case 0:return c.get();case 1:return angular.isString(a)?c.get()[a]:angular.isObject(a)?c.update(a):c.get_value(a);default:return c.update_value(a,b)}}}}]),a.directive("wuDraggable",["$parse",function(a){var b;return b={link:function(b,c,d){return $(c).on("dragcreate",function(c){var e;return(e=a(d.ngDraggableEventCreate))(b,{$event:c})}),$(c).on("dragstart",function(c){var e;return(e=a(d.ngDraggableEventStart))(b,{$event:c})}),$(c).on("dragstop",function(c){var e;return(e=a(d.ngDraggableEventStop))(b,{$event:c})}),$(c).on("drag",function(c){var e;return(e=a(d.ngDraggableEventDrag))(b,{$event:c,x:12})}),d.$observe("ngDraggableOptions",function(a){var d,e,f,g;f=b.$eval(a),g=[];for(d in f)e=f[d],g.push($(c).draggable("option",d,e));return g}),$(c).draggable()}}}]),a.service("wuEventually",["$timeout",function(a){var b,c;return b={},c={delay:300,run:function(d,e,f){return null==f&&(f=c.delay),b[d]&&a.cancel(b[d]),b[d]=a(e,f)}}}]),a.directive("wuDelayedModel",["wuEventually",function(a){var b;return b={require:"?ngModel",link:function(b,c,d,e){var f;return f=e.$setViewValue,e.$setViewValue=function(c){var g;return g=function(){return f.apply(e,[c])},a.run(b.$id,g,d.eventualModel)}}}}]),a.directive("wuFocusMe",[function(){var a;return a={link:function(a,b){return b.focus()}}}]),a.provider("wuHttp",{$get:["$http",function(a){var b,c,d,e;return e=[],c={},b={success:[],error:[]},d=function(f){var g,h,i,j;return f.headers||(f.headers={}),(i=f.headers).Accept||(i.Accept="application/json"),(j=f.headers)["content-type"]||(j["content-type"]="application/json"),f.cache=!1,g=f.method.toLowerCase(),h=a(f),h.success(function(a,f,h,i){var j,k,l,m;for(d.log&&console.log(a),m=b.success,k=0,l=m.length;l>k;k++)(j=m[k])(a,f,h,i);return e.pop(),c[g].pop()}),h.error(function(a,f,h,i){var j,k,l,m;for(d.log&&console.log(a),m=b.error,k=0,l=m.length;l>k;k++)(j=m[k])(a,f,h,i);return e.pop(),c[g].pop()}),h.error(function(){return e.pop()}),e.push(h),c[g]||(c[g]=[]),c[g].push(h),h},d.working=function(a){return a?angular.isArray(c.get)&&c.get.length>0:e.length>0},d.log=!1,d.handlers=function(){return b},d}]}),a.directive("wuLinkIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,compile:function(a,b,c){return function(a,b,d){var e;return e=!1,a.$watch(d.ngLinkIf,function(d){return d&&!e?(e=!0,c(a,function(a){return b.after(a)})):void 0})}}}}]),a.filter("wuPercent",function(){return function(a){var b;return b=parseFloat(a),0>b?"n/a":0===b?"0.00 %":1>=b?(b=Math.round(100*b)/100*100,""+b+" %"):100>=b?""+b+" %":"n/a"}}),a.service("wuPiwik",["$location",function(){var a;return a={configured:!1,active:function(){return"undefined"!=typeof _paq},track:function(){return a.active()?_paq.push(["trackPageView"]):void 0},configure:function(b){return a.configured?void 0:(b.$on("$routeChangeSuccess",function(){return a.track()}),b.$on("$routeUpdate",function(){return a.track()}),a.configured=!0)}}}]),a.service("wuRoutingWorkflow",["wuBase64Location",function(a){var b;return b={configure:function(b){var c,d,e,f,g,h,i,j;for(f=function(c){return null==c&&(c=!1),c?(b.scope.page_loading=!0,$.extend(!0,b.scope,b.defaults,a.search())):d(),b.search_change?b.search_change(c):void 0},e=function(c,e){return(b.scope.pagination||{}).page===b.loaded_page()&&(b.scope.pagination.page=1),b.scope.page_loading?(b.scope.page_loading=!1,d()):a.search(b.scope_params()),b.search_change?b.scope_change(c,e):void 0},d=function(a){return b.request(a)},b.scope.$on("$routeChangeSuccess",function(a){return f(!0),a.preventDefault()}),b.scope.$on("$routeUpdate",function(){return f(!1)}),i=b.scope_watch_expressions||[],j=[],g=0,h=i.length;h>g;g++)c=i[g],j.push(b.scope.$watch(c,e,!0));return j}}}]),a.filter("wuStrftime",function(){return function(a,b){var c,d;try{return angular.isString(a)?(c=new Strftime(new Date(a)),c.render(b)):angular.isDate(a)?(c=new Strftime(a),c.render(b)):a}catch(e){return d=e,a}}}),a.filter("wuTeasing",function(){return function(a,b){var c;try{return b||(b=30),a.length>b?a.slice(0,+b+1||9e9)+"â€¦":a}catch(d){return c=d,a}}})}.call(this);